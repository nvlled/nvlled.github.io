<html><head><title>logs and notes</title><link rel="stylesheet" href="./../assets/style.css"><link rel="stylesheet" href="./../../../../../assets/deno.land/x/speed_highlight_js@1.1.11/dist/themes/visual-studio-dark.css"><script>
      if (!location.pathname.match(/.html$/)) {
        // This makes sure that urls end with index.html
        // since the pages have relative paths in them.
        // For example: http://localhost:8000 -> http://localhost:8000/index.html
        // Omitting index.html breaks some links.
        // The generate HTML uses relative paths for easier deployment,
        // that they can be placed in any subdir and the links still work.
      
        var pathname = location.pathname;
        if (pathname[pathname.length-1] != "/") pathname += "/"
        location.pathname =  pathname + "index.html";
      }
    </script><style><style id="__twind">button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;margin:0;padding:0;line-height:inherit;color:inherit}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:Helvetica,sans-serif}table{text-indent:0;border-color:inherit;border-collapse:collapse}hr{height:0;color:inherit;border-top-width:1px}input::placeholder,textarea::placeholder{opacity:1;color:#a3a3a3}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}button{background-color:transparent;background-image:none}body{font-family:inherit;line-height:inherit}*,::before,::after{box-sizing:border-box;border:0 solid #e5e5e5}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}::-moz-focus-inner{border-style:none;padding:0}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}pre,code,kbd,samp{font-family:ui-monospace,monospace;font-size:1em}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}body,blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre,fieldset,ol,ul{margin:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul,legend{padding:0}textarea{resize:vertical}button,[role="button"]{cursor:pointer}:-moz-focusring{outline:1px dotted ButtonText}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}summary{display:list-item}:root{-moz-tab-size:4;tab-size:4}ol,ul{list-style:none}img{border-style:solid}button,select{text-transform:none}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}sub{bottom:-0.25em}sup{top:-0.5em}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}::-webkit-search-decoration{-webkit-appearance:none}*{--tw-shadow:0 0 transparent}.divide-x-1>:not([hidden])~:not([hidden]){--tw-divide-x-reverse:0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:1px;border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.text-blue-100{--tw-text-opacity:1;color:#dbeafe;color:rgba(219,234,254,var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:#171717;color:rgba(23,23,23,var(--tw-text-opacity))}.text-xs{font-size:0.75rem;line-height:1rem}.mx-0{margin-left:0px;margin-right:0px}.px-0{padding-left:0px;padding-right:0px}.bg-gray-50{--tw-bg-opacity:1;background-color:#fafafa;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:#e5e5e5;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);box-shadow:0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}.bg-gray-500{--tw-bg-opacity:1;background-color:#737373;background-color:rgba(115,115,115,var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity:1;background-color:#404040;background-color:rgba(64,64,64,var(--tw-bg-opacity))}.border-blue-100{--tw-border-opacity:1;border-color:#dbeafe;border-color:rgba(219,234,254,var(--tw-border-opacity))}.text-base{font-size:1rem;line-height:1.5rem}.divide-black>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:#000;border-color:rgba(0,0,0,var(--tw-divide-opacity))}.text-xl{font-size:1.25rem;line-height:1.75rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.relative{position:relative}.m-auto{margin:auto}.p-2{padding:0.5rem}.w-full{width:100%}.h-0\.5{height:0.125rem}.hidden{display:none}.flex{display:flex}.h-10{height:2.5rem}.m-1{margin:0.25rem}.p-1{padding:0.25rem}.-top-1{top:calc(0.25rem * -1)}.mb-2{margin-bottom:0.5rem}.ml-2{margin-left:0.5rem}.justify-end{justify-content:flex-end}.items-center{align-items:center}.border{border-width:1px}.leading-tight{line-height:1.25}.whitespace-pre{white-space:pre}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.text-center{text-align:center}.whitespace-nowrap{white-space:nowrap}.flex-grow-1{flex-grow:1}.text-right{text-align:right}.mr-3{margin-right:0.75rem}.max-w-4xl{max-width:56rem}.mr-5{margin-right:1.25rem}.items-start{align-items:flex-start}.pr-2{padding-right:0.5rem}.mb-4{margin-bottom:1rem}.drop-shadow-xl{--tw-drop-shadow:drop-shadow(0 20px 13px rgba(0,0,0,0.03)) drop-shadow(0 8px 5px rgba(0,0,0,0.08))}@media (min-width:640px){.sm\:block{display:block}}@media (min-width:768px){.md\:w-10{width:2.5rem}}@media (min-width:768px){.md\:block{display:block}}@media (min-width:768px){.md\:p-3{padding:0.75rem}}@media (min-width:1024px){.lg\:w-4\/5{width:80%}}.tw-nzxedc blockquote{font-style:italic;padding-left:0.75rem;border-left-width:8px;--tw-border-opacity:1;border-color:#737373;border-color:rgba(115,115,115,var(--tw-border-opacity))}.tw-m3v340 a{-webkit-text-decoration:underline;text-decoration:underline;--tw-text-opacity:1;color:#1e3a8a;color:rgba(30,58,138,var(--tw-text-opacity))}.tw-m3v340 a:visited{--tw-text-opacity:1;color:#1e40af;color:rgba(30,64,175,var(--tw-text-opacity))}.tw-m3v340 h1{font-size:1.25rem;line-height:1.75rem}.tw-m3v340 h2{font-size:1.125rem;line-height:1.75rem}.tw-m3v340 h3{font-size:1rem;line-height:1.5rem}.tw-m3v340 p{margin-bottom:0.5rem;margin-top:0.5rem}.tw-m3v340{margin-bottom:0.5rem;margin-top:0.5rem}.tw-nzxedc{max-width:1200px}.tw-m3v340 h1,.tw-m3v340 h2,.tw-m3v340 h3,.tw-m3v340 h4,.tw-m3v340 h5{font-weight:700}.tw-m3v340 ul{margin-left:1.25rem}.tw-m3v340 ul li{list-style-type:disc}</style></style></head><body class="lg:w-4/5 m-auto bg-gray-50 tw-nzxedc"><div class="flex bg-gray-700 text-blue-100 h-10 items-center undefined"><div class="m-1 p-1 border border-blue-100 undefined"><a href="./../index.html">⌨</a></div><span>&nbsp;</span><div class="leading-tight md:block hidden whitespace-pre undefined"><a href="./../index.html">logs and notes</a></div><span class="hidden sm:block md:w-10">&nbsp;</span><div class="flex items-center divide-x-1 divide-dotted"><div class="p-2 md:p-3 text-center whitespace-nowrap"><a title="notes" href="./../notes.html" class="flex"><span>⛾</span><span>&nbsp;</span><span class="hidden sm:block">notes</span></a></div><div class="p-2 md:p-3 text-center whitespace-nowrap"><a title="screenshots" href="./../screenshots/index.html" class="flex"><span>֎</span><span>&nbsp;</span><span class="hidden sm:block">screenshots</span></a></div><div class="p-2 md:p-3 text-center whitespace-nowrap"><a title="projects" href="./../projects.html" class="flex"><span>⌬</span><span>&nbsp;</span><span class="hidden sm:block">projects</span></a></div></div><div class="flex-grow-1 text-right mr-3 undefined"><a class="flex justify-end" href="./../about.html"><span>⌭</span><span>&nbsp;</span><span class="hidden sm:block">about</span></a></div></div><div class="bg-gray-200 p-2 shadow-xl drop-shadow-xl"><div class="text-xl flex items-start undefined"><div class="flex undefined"><div class="undefined">⛾</div></div><span>&nbsp;</span><div class="w-full undefined"><div class="flex items-center undefined"><a href="" class="text-gray-900">Abstraction</a></div><div class="flex items-center text-base divide-black divide-x-1 divide-dotted"><div class="pr-2 undefined">2023-02-07 20:21:00</div><div class="px-2 undefined">a month ago</div><div class="px-2 undefined"></div></div><div class="mb-4 undefined"></div><div class="text-base max-w-4xl mr-5 tw-m3v340"><div><p>Whenever the topic of abstraction comes up,
it's not uncommon for people to have very
strong, polaziring opinions on the topic.
It's not uncommon for someone to interject
and say how you shouldn't do this or that,
and then without fail that person proceeds
to recite wisdom of the fore-elders, how
wet yagnis are silver slice bread of the future.</p>
<p>Okay, I'm exaggerating it, but I'm not just
beating hays here. There are actual growing number of
people who believes that abstraction is purely just a tool
for drying the wet code<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-1" href="#footnote-1">[1]</a>,
and on a pathological case,
they would describe anything, even mildly, related
to abstractions as "overengineering", or "job security".</p>
<p>But first things first, what do I mean abstraction here?
To abstract means to set aside irrelevant details
and focus only on the essentials. Abstraction is a
means to hide details and reduce complexity for the
problem in hand<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-2" href="#footnote-2">[2]</a>.
This is quite a general definition,
but in terms of programming, abstraction includes DSLs, macros,
type definitions, and functions<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-3" href="#footnote-3">[3]</a>.</p>
<p>Now, just to be clear, I'm not claiming abstractions
are universally better and that it should be used everywhere.
I'm not trying to choose a side between the wet
and dry camp, or which is better. I'm specifically addressing
the mistaken idea that abstraction is <em>only</em> for deduplicating code.</p>
<p>This bears repeating and worth belaboring:
Reducing duplication isn't the only purpose of abstraction.</p>
<p>Yes, abstraction can be used to avoid duplication,
but it's not the only purpose of abstraction.
Also, just with everything, abstraction can be overdone that
results in untamable gargantuan behemoth. It doesn't mean
it should not be used, or should be avoided. If done right, abstractions
can tremendously simplify code, and help reason with logic.</p>
<p>If you are in agreement with everything I just said, you can
stop reading now, the world will be just as it was.
I'm not even claiming anything outlandish here,
what I said is something that should go without saying.</p>
<p>Alas, this is not the case. Unfortunate as it is,
there are the extremists, and there are the indocrinated,
who will proudly condemn the purpose of abstractions,
some of those are influential people that seeks
to that disrupt the cosmic balance that will tear
apart the fabric of reality.</p>
<p>What am I talking about again?
Oh yeah, abstractions.</p>
<hr>
<p>I'm going to keep this short. I will discuss
one code example, a silly one at that,
and show how abstractions could
help simplify them.</p>
<p>Try to read the following code.</p>
</div><div class="shj-lang-js"><div><div class="shj-numbers"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div><div>
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">colonizeSolarSystem</span>(ss<span class="shj-syn-oper">:</span> <span class="shj-syn-class">SolarSystem</span>) {
    <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> body <span class="shj-syn-kwd">of</span> ss<span class="shj-syn-oper">.</span>celestialBodies) {
      <span class="shj-syn-kwd">if</span> (
        body<span class="shj-syn-oper">.</span>size <span class="shj-syn-oper">&lt;</span> theFuckItsHuGEE <span class="shj-syn-oper">||</span>
        body<span class="shj-syn-oper">.</span>shape <span class="shj-syn-oper">!=</span> <span class="shj-syn-str">"spherical"</span> <span class="shj-syn-oper">||</span>
        body<span class="shj-syn-oper">.</span>temperature <span class="shj-syn-oper">&lt;</span> ashesToCinders <span class="shj-syn-oper">||</span>
        body<span class="shj-syn-oper">.</span>lifeForms<span class="shj-syn-oper">.</span>length <span class="shj-syn-oper">==</span> <span class="shj-syn-num">0</span>
      ) {
        <span class="shj-syn-kwd">continue</span>;
      }
  
      <span class="shj-syn-kwd">const</span> sumIntel <span class="shj-syn-oper">=</span> <span class="shj-syn-num">0</span>;
      <span class="shj-syn-kwd">const</span> viableLifeForms <span class="shj-syn-oper">=</span> [];
      <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> creature <span class="shj-syn-kwd">of</span> body<span class="shj-syn-oper">.</span>lifeForms) {
        <span class="shj-syn-kwd">if</span> (
          creature<span class="shj-syn-oper">.</span>consciousness <span class="shj-syn-oper">&gt;</span> <span class="shj-syn-num">0</span> <span class="shj-syn-oper">&amp;&amp;</span>
          creature<span class="shj-syn-oper">.</span>intelligence <span class="shj-syn-oper">&gt;</span> cockcroach<span class="shj-syn-oper">.</span>intelligence <span class="shj-syn-oper">&amp;&amp;</span>
          creature<span class="shj-syn-oper">.</span>size <span class="shj-syn-oper">&gt;</span> <span class="shj-syn-num">10</span> <span class="shj-syn-oper">*</span> bananas<span class="shj-syn-oper">.</span>size
        ) {
          viableLifeForms<span class="shj-syn-oper">.</span><span class="shj-syn-func">push</span>(creature);
          sumIntel <span class="shj-syn-oper">+=</span> creature<span class="shj-syn-oper">.</span>intelligence;
        }
      }
  
      <span class="shj-syn-kwd">if</span> (viableLifeForms<span class="shj-syn-oper">.</span>length <span class="shj-syn-oper">&lt;</span> villagePopulationSize) {
        <span class="shj-syn-kwd">continue</span>;
      }
  
      <span class="shj-syn-kwd">const</span> averageIntel <span class="shj-syn-oper">=</span> sumIntel <span class="shj-syn-oper">/</span> viableLifeForms<span class="shj-syn-oper">.</span>length;
      <span class="shj-syn-kwd">const</span> leader <span class="shj-syn-oper">=</span> <span class="shj-syn-num">null</span>;
      <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> creature <span class="shj-syn-kwd">of</span> body<span class="shj-syn-oper">.</span>viableLifeForms) {
        <span class="shj-syn-kwd">if</span> (
          creature<span class="shj-syn-oper">.</span>charisma <span class="shj-syn-oper">&gt;=</span> goat <span class="shj-syn-oper">&amp;&amp;</span>
          <span class="shj-syn-func">closeTo</span>(create<span class="shj-syn-oper">.</span>intelligence<span class="shj-syn-oper">,</span> averageIntel)
        ) {
          leader <span class="shj-syn-oper">=</span> creature;
          <span class="shj-syn-kwd">break</span>;
        }
      }
  
      <span class="shj-syn-kwd">if</span> (<span class="shj-syn-oper">!</span>leader) {
        <span class="shj-syn-kwd">continue</span>;
      }
  
      <span class="shj-syn-kwd">const</span> homePos <span class="shj-syn-oper">=</span> leader<span class="shj-syn-oper">.</span>position;
      spacecraft<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> leader<span class="shj-syn-oper">.</span>position;
      spacecraft<span class="shj-syn-oper">.</span><span class="shj-syn-func">emitAbductionRays</span>(leader);
      spacecraft<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> outerspace;
  
      <span class="shj-syn-kwd">delete</span> leader<span class="shj-syn-oper">.</span>memories;
      <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> neuron <span class="shj-syn-kwd">of</span> leader<span class="shj-syn-oper">.</span>brain) {
        neuron<span class="shj-syn-oper">.</span>cells <span class="shj-syn-oper">=</span> alienWorms;
      }
  
      leader<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> homePos;
      spacecraft<span class="shj-syn-oper">.</span><span class="shj-syn-func">dropLoad</span>(leader);
    }
  }
</div></div></div><div><p>Even if you aren't into planetary invasion<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-4" href="#footnote-4">[4]</a>,
you might at least agree that the function <code>colonizeSolarSystem</code>
could use a little work. Or maybe you believe in WET code,
that think it's fine as it is, because not a duplicated code is in sight.
And that's fine too.</p>
<p>But if you are open-minded, and are willing to peek on the other side,
consider how a simple abstraction (just functions in this case) could
help with readability:</p>
</div><div class="shj-lang-js"><div><div class="shj-numbers"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div><div>
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">isPlanet</span>(body<span class="shj-syn-oper">:</span> <span class="shj-syn-class">CelestialBody</span>) {
    <span class="shj-syn-kwd">return</span> (
      body<span class="shj-syn-oper">.</span>size <span class="shj-syn-oper">&gt;=</span> theFuckItsHuGEE <span class="shj-syn-oper">&amp;&amp;</span>
      body<span class="shj-syn-oper">.</span>shape <span class="shj-syn-oper">==</span> <span class="shj-syn-str">"spherical"</span> <span class="shj-syn-oper">&amp;&amp;</span>
      body<span class="shj-syn-oper">.</span>temperature <span class="shj-syn-oper">&gt;=</span> ashesToCinders
    );
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">isComplexLife</span>(creature<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span>) {
    <span class="shj-syn-kwd">return</span> (
      creature<span class="shj-syn-oper">.</span>consciousness <span class="shj-syn-oper">&gt;</span> <span class="shj-syn-num">0</span> <span class="shj-syn-oper">&amp;&amp;</span>
      creature<span class="shj-syn-oper">.</span>intelligence <span class="shj-syn-oper">&gt;</span> cockcroach<span class="shj-syn-oper">.</span>intelligence <span class="shj-syn-oper">&amp;&amp;</span>
      creature<span class="shj-syn-oper">.</span>size <span class="shj-syn-oper">&gt;</span> <span class="shj-syn-num">10</span> <span class="shj-syn-oper">*</span> bananas<span class="shj-syn-oper">.</span>size
    );
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">scanViableLifeForms</span>(body<span class="shj-syn-oper">:</span> <span class="shj-syn-class">CelestialBody</span>) {
    <span class="shj-syn-kwd">const</span> viableLifeForms <span class="shj-syn-oper">=</span> [];
    <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> creature <span class="shj-syn-kwd">of</span> body<span class="shj-syn-oper">.</span>lifeForms) {
      <span class="shj-syn-kwd">if</span> (<span class="shj-syn-func">isComplexLife</span>(creature)) {
        viableLifeForms<span class="shj-syn-oper">.</span><span class="shj-syn-func">push</span>(creature);
      }
    }
    <span class="shj-syn-kwd">return</span> viableLifeForms;
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">getAverageIntelligence</span>(creatures<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span>[]) {
    <span class="shj-syn-kwd">const</span> sum <span class="shj-syn-oper">=</span> creatures<span class="shj-syn-oper">.</span><span class="shj-syn-func">map</span>((c) <span class="shj-syn-kwd">=&gt;</span> c<span class="shj-syn-oper">.</span>intelligence)<span class="shj-syn-oper">.</span><span class="shj-syn-func">reduce</span>((a<span class="shj-syn-oper">,</span> b) <span class="shj-syn-kwd">=&gt;</span> a <span class="shj-syn-oper">+</span> b);
    <span class="shj-syn-kwd">return</span> sum <span class="shj-syn-oper">/</span> creatures<span class="shj-syn-oper">.</span>length;
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">findPotentialOverlord</span>(creatures<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span>[]) {
    <span class="shj-syn-kwd">const</span> averageIntel <span class="shj-syn-oper">=</span> <span class="shj-syn-func">getAverageIntelligence</span>(viableLifeForms);
    <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> creature <span class="shj-syn-kwd">of</span> creatures) {
      <span class="shj-syn-kwd">if</span> (
        creature<span class="shj-syn-oper">.</span>charisma <span class="shj-syn-oper">&gt;=</span> goat <span class="shj-syn-oper">&amp;&amp;</span>
        <span class="shj-syn-func">closeTo</span>(creature<span class="shj-syn-oper">.</span>intelligence<span class="shj-syn-oper">,</span> averageIntel)
      ) {
        <span class="shj-syn-kwd">return</span> creature;
      }
    }
    <span class="shj-syn-kwd">return</span> <span class="shj-syn-num">null</span>;
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">abductCreature</span>(creature<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span>) {
    spacecraft<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> creature<span class="shj-syn-oper">.</span>position;
    spacecraft<span class="shj-syn-oper">.</span><span class="shj-syn-func">emitAbductionRays</span>(creature);
    spacecraft<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> outerspace;
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">eatBrains</span>(creature<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span>) {
    <span class="shj-syn-kwd">delete</span> creature<span class="shj-syn-oper">.</span>memories;
    <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> neuron <span class="shj-syn-kwd">of</span> creature<span class="shj-syn-oper">.</span>brain) {
      neuron<span class="shj-syn-oper">.</span>cells <span class="shj-syn-oper">=</span> alienWorms;
    }
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">returnCreature</span>(creature<span class="shj-syn-oper">:</span> <span class="shj-syn-class">LifeForm</span><span class="shj-syn-oper">,</span> homePos<span class="shj-syn-oper">:</span> <span class="shj-syn-class">Position</span>) {
    creature<span class="shj-syn-oper">.</span>position <span class="shj-syn-oper">=</span> homePos;
    spacecraft<span class="shj-syn-oper">.</span><span class="shj-syn-func">dropLoad</span>(creature);
  }
  
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-func">colonizeSolarSystem</span>(ss<span class="shj-syn-oper">:</span> <span class="shj-syn-class">SolarSystem</span>) {
    <span class="shj-syn-kwd">for</span> (<span class="shj-syn-kwd">const</span> body <span class="shj-syn-kwd">of</span> ss<span class="shj-syn-oper">.</span>celestialBodies) {
      <span class="shj-syn-kwd">if</span> (<span class="shj-syn-oper">!</span><span class="shj-syn-func">isPlanet</span>(body) <span class="shj-syn-oper">||</span> body<span class="shj-syn-oper">.</span>lifeForms<span class="shj-syn-oper">.</span>length <span class="shj-syn-oper">==</span> <span class="shj-syn-num">0</span>) {
        <span class="shj-syn-kwd">continue</span>;
      }
  
      <span class="shj-syn-kwd">const</span> viableLifeForms <span class="shj-syn-oper">=</span> <span class="shj-syn-func">scanViableLifeForms</span>(body);
      <span class="shj-syn-kwd">const</span> leader <span class="shj-syn-oper">=</span> <span class="shj-syn-func">findPotentialOverlord</span>(viableLifeForms);
  
      <span class="shj-syn-kwd">if</span> (leader <span class="shj-syn-oper">&amp;&amp;</span> viableLifeForms<span class="shj-syn-oper">.</span>length <span class="shj-syn-oper">&gt;=</span> villagePopulationSize) {
        <span class="shj-syn-kwd">const</span> homePos <span class="shj-syn-oper">=</span> creature<span class="shj-syn-oper">.</span>position;
        <span class="shj-syn-func">abductCreature</span>(leader);
        <span class="shj-syn-func">eatBrains</span>(leader);
        <span class="shj-syn-func">returnCreature</span>(leader<span class="shj-syn-oper">,</span> homePos);
      }
    }
  }
      </div></div></div><div><p>There, <code>colonizeSolarSystem</code> is now concise, and it's now easier at a glance
to see the machinations that unfold and the doom that awaits us all!!1</p>
<p>Or not. You could say it's now harder to read because
it hides all the details, and now you have to jump places
to read the code. Indeed, and that is the point of abstraction:
To reason at a higher level and to declutter the mind from the burden
of non-essential details.</p>
<p>We can agree to disagree which version is better.
Or maybe you are somewhere in the middle, that you think one or two
helper functions would suffice. That's cool too.
Personally, the actual code I write varies between hardly abstracted,
to moderately abstracted, to heavily abstracted ones. It really depends
on what kind of problems I have and what solutions I have in mind,
and the amount of effort I'm willing to expend on a particular case.</p>
<p>I'm not prescribing which approach is universally better, if there is even one.
But, at the very least, the next time you see a code that liberally uses abstractions,
consider first the reasoning and the preferences that went into writing that code first.
It doesn't mean you aren't allowed to constructively criticize it.
Just don't do it sub-conciously while chanting wet yagnis.</p>
<p>If despite the points I've made, you are going to still protest that
those functions are only ever going to be used once, why even bother
defining them, then I failed to convey my points clearly, or
you still are beholden to the teachings you hold dearly.</p>
<hr>
<p>Okay, maybe now you see abstractions in a different light.
Maybe you start to ponder the best soil moisture density
where your would cultivate your coding projects. Is this too wet or too dry?
Instead of being dismissive about it,
you are now actually putting some thoughts
when to use abstractions and how to use them properly.
Well, at least I hope that is what on your mind.</p>
<p>Here's the thing though: if you still recite
these acronyms (DRY, AHA, YAGNI, WET, SPOT, KISS, AHAHA<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-5" href="#footnote-5">[5]</a>)
while in your decision-making process, it's almost quite likely that
you still haven't internalized properly what abstractions are for.</p>
<p>Recall how I defined abstractions: to reduce complexity
or simplify code by means of hiding irrelevant details
under a name or idea. In programming, one way to
hide details is through functions. You can also
think of it as a way of extending your domain or programming language's vocabulary.
Note how duplication is completely absent from this definition.
Although both abstraction and DRY'ing involves
putting code behind a common name, the intent is
very different. DRY/WET is tangent to the process
of making an abstraction. That is to say, if you are
creating a function/class for the sole purpose removing
duplicated code, you are by definition not creating
an abstraction.</p>
<p>Some of you now may be getting all fidgety in your seats,
hands all sweaty, raised and shaking: "B-but abstraction is reducing
duplicated code! It says so in the 10 year
<a href="https://en.wikipedia.org/wiki/Abstraction_principle_%28computer_programming%29">old wikipedia page</a>"</p>
<blockquote>
<p>In software engineering and programming language theory, the abstraction principle (or the principle of abstraction) is a basic dictum that aims to reduce duplication of information in a program (usually with emphasis on code duplication) whenever practical by making use of abstractions provided by the programming language or software libraries[citation needed]</p>
</blockquote>
<p>I agree, and it's unfortunate. The wiki and other sources painted
only one side of the abstraction and has become authorative.
Descriptivism wins this round!
The ship has long sailed. There's is no correcting it because
it is already the correct definition. The worse part is that
people are now most likely unaware of the original, alternative definition.</p>
<p>What does it mean for us? What actionable ideas is there to partake with?
It means that abstraction has two orthogonal meanings:
one that means deduplication, and the other that means suppression of details.
They are very different concepts that coincidentally just uses the same word.</p>
<p>The important thing to remember is to be aware which kind of "abstraction"
are you using. Although code deduplication is a valid use case,
you likely want to be using the other kind of abstraction for most
of the time, if ever you need to create an abstraction.</p>
<p>Deduplication is easier since it's all mechanically
moving code around, e.g., refactoring.
It's harder to create abstractions that simplifies code or enables
more complex expressions.
Yes, it's harder, but don't let it stop you from
trying. Even simple abstractions in the
<code>colonizeSolarSystem</code> goes a long way.</p>
<hr>
<p>Okay, by now you feel like you have reached a higher state
of being, and that you now understand the true meaning
of abstraction. You are ready to spread the good message
to the unwashed mortals that still abstract merely to
foil duplicities.</p>
<p>But then, someone rings your doorbell and you opened
the door to a person who without solicitation uttered
"duplication is far cheaper than wrong abstraction".
Upon hearing the words, the pillars that held your nirvana
fell apart, and your higher state of being crumbled to
a formless wreck that spiraled towards very depths of insignificance.</p>
<p>If abstractions requires more thought, and costs more
when done wrong, then duplications must be the default and
preferred way of programming, and abstraction should be
avoided if possible.</p>
<p>Once again, if catchphrases and sound bites are enough
to invalidate any convictions you have, you haven't really
gone far much from chanting acronyms. Focus on the essentials,
discard the irrelevant, and the true form reveals itself.
Ask yourself: is this statement true?
"duplication is far cheaper than wrong abstraction"
How true is it, when is it true?</p>
<p>Here's my take on this.</p>
<p>Contrary to what people say, zero abstractions isn't necessarily
simpler to read, write, or refactor. Shit code is shit code,
whether it's completely DRY and exhausted of reason and harmony,
or WET and flooded with repeated, eternal pain and suffering.
You could argue that it's easier to change code with no abstractions,
I could argue the same thing, but in reverse.
You could argue that it's more costly to create wrong abstractions.
I agree, but again this only applies to extreme, degenerate cases,
where the wrong abstraction has been deeply entrenched in the codebase.
You can't objectively say that it was because of abstraction, without
first demonstrating that the other extreme case is any better, where
there are little to no abstractions are used, and duplications are everywhere.</p>
<p>When someone says duplication is cheaper than wrong abstraction,
it is most definitely because that mild to moderate duplication is being compared to a complex
abstraction. It's not fair to compare cases of different severity.
If I want argue for the other end, I would compare a simple abstraction
to a pathological case where a code block is repeated a thousand times
in different places each with minor variations, to which then I claim
that abstraction is far cheaper than excessively duplicated code.</p>
<p>But case in point, abstractions do have runtime costs. Even functions
add overhead. But unless you are working on a really restricted
environment, it doesn't matter for most of the time. Plus,
compilers are good at optimizing abstractions for free.
Gargantuan abstractions that evolve into libraries or frameworks
may add significant cost, but it's disingenous to use that as a point of contention
when topic is about choosing duplication over abstraction. Meaning,
it's besides the point and not relevant.</p>
<p>Despite my leanings towards better abstractions, I do see where
the anti-abstraction sentiment is coming from. There was an era
where pure OOP and design patterns dominated the software industry.
On one hand, I think having strong convictions/opinions about something
is good, as it pushes ideas beyond the border, where new ideas
are improved or discovered. On the other hand, if there is lack of
competition or contention, the unchallenged ideas gets pushed
too far into dogmatic, authoritarian territory.
I think the anti-abstraction crowd did well to move
the industry from the era of bloated abstractions, but
let us not push too far ahead, lest we fall past over the
edge.</p>
<p>The key takeaways are:</p>

<ul>
<li>abstractions are not just for de-duplicating code</li>
<li>use acronyms as a mnemonic, not as a substitute for thoughtful reasoning and judgment</li>
<li>use abstractions if they could help reduce the complexity</li>
<li>the aliens are coming for us</li>
<li>TANSTAAFL, abstraction has a cost, so is the absence of it</li>
</ul>
<p>AI summary<a class="text-xs mx-0 px-0 -top-1 relative footnote-link" id="footnote-link-6" href="#footnote-6">[6]</a>:</p>
<blockquote>
<p>abstraction is a way of reducing complexity in programming by hiding irrelevant details. It is often confused with code deduplication, but the two concepts are actually quite different. Abstraction can be used to simplify code and enable more complex expressions, but it can also be overdone and lead to untamable behemoths. The debate between abstraction and duplication is often oversimplified, as both have their pros and cons. Abstraction can be costly if done wrong, but it is not necessarily more expensive than excessive duplication. Ultimately, it is important to be aware of the different types of abstractions and use them thoughtfully.</p>
</blockquote>
</div><ol><li class="mb-2 ml-2"><a id="footnote-1" class="text-xs relative -top-1" href="#footnote-link-1">[1]</a>: For anyone unfamiliar with these terms, DRY stands
      for Don't Repeat Yourself, WET for Write Everything Twice.</li><li class="mb-2 ml-2"><a id="footnote-2" class="text-xs relative -top-1" href="#footnote-link-2">[2]</a>: This is probably a inadequate definition, feel free to look up a proper definition to help.</li><li class="mb-2 ml-2"><a id="footnote-3" class="text-xs relative -top-1" href="#footnote-link-3">[3]</a>: Yes, even functions.
      I've seen people object to the idea that functions are abstractions.
      But functions do fit the definition of abstraction, at least
      with the definition I'm using here.</li><li class="mb-2 ml-2"><a id="footnote-4" class="text-xs relative -top-1" href="#footnote-link-4">[4]</a>: There's no political commentary here, leaders can be
      dumb, smart or average, it doesn't matter, as long
      as aliens can make a slurpee out of it.</li><li class="mb-2 ml-2"><a id="footnote-5" class="text-xs relative -top-1" href="#footnote-link-5">[5]</a>: Not an acronym, I'm just laughing maniacally AHAHA</li><li class="mb-2 ml-2"><a id="footnote-6" class="text-xs relative -top-1" href="#footnote-link-6">[6]</a>: Kagi's universal summarizer</li></ol></div></div></div></div><footer class="w-full h-0.5 bg-gray-500"></footer><br></body></html>