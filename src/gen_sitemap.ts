/* This is a generated file, any manual changes may be overwritten.
 */
import { SitemapEntry, parseDateTime } from "./cita.tsx";

export const sitemapPages: SitemapEntry[] = [
  {
    title: "notes 0",
    created: "2023-03-02 19:25:59",
    path: "notes.tsx",
  },
  {
    title: "Home",
    created: "2023-03-02 19:25:59",
    path: "index.tsx",
  },
  {
    title: "Screenshots",
    created: "2023-02-21 00:00:00",
    path: "screenshots/index.tsx",
  },
  {
    title: "code screenshots",
    created: "2023-02-23 00:00:00",
    path: "screenshots/code.tsx",
  },
  {
    title: "gaming screenshots",
    created: "2023-02-23 00:00:00",
    path: "screenshots/gaming.tsx",
  },
  {
    title: "random screenshots",
    created: "2023-02-23 00:00:00",
    path: "screenshots/random.tsx",
  },
  {
    title: "watch screenshots",
    created: "2023-02-23 00:00:00",
    path: "screenshots/watch.tsx",
  },
  {
    title: "Refactor and cleanup",
    created: "2023-02-28 19:00:07",
    path: "updates/refactor-and-cleanup.tsx",
  },
  {
    title: "Imported old site",
    created: "2023-03-02 19:16:52",
    path: "updates/imported-old-site.tsx",
  },
  {
    title: "Improve build time",
    created: "2023-02-27 00:00:00",
    path: "updates/improve-build-time.tsx",
  },
  {
    title: "Personal site update",
    created: "2023-02-23 00:00:00",
    desc: "used cita.tsx",
    path: "notes/site.tsx",
  },
  {
    title: "Ready for action",
    created: "2023-02-28 20:00:52",
    path: "notes/ready-for-action.tsx",
  },
  {
    title: "Previous writings",
    created: "2023-03-01 13:31:54",
    path: "notes/previous-writings.tsx",
  },
  {
    title: "Static site generator",
    created: "2023-02-20 00:00:00",
    desc: "created a deno-based SSG",
    path: "notes/ssg.tsx",
  },
  {
    title: "notes 2",
    created: "2023-03-02 19:25:59",
    path: "notes/feed/page2.tsx",
  },
  {
    title: "notes 3",
    created: "2023-03-02 19:25:59",
    path: "notes/feed/page3.tsx",
  },
  {
    title: "notes 0",
    created: "2023-03-02 19:25:59",
    path: "notes/feed/page0.tsx",
  },
  {
    title: "notes 4",
    created: "2023-03-02 19:25:59",
    path: "notes/feed/page4.tsx",
  },
  {
    title: "notes 1",
    created: "2023-03-02 19:25:59",
    path: "notes/feed/page1.tsx",
  },
  {
    title: "Gost static site generator",
    created: "2023-03-02 11:02:14",
    path: "notes/gost.tsx",
  },
  {
    title: "Godot's wait is over",
    created: "2023-03-02 11:22:55",
    path: "notes/godot.tsx",
  },
  {
    title: "About",
    created: "2023-02-21 00:00:00",
    path: "about.tsx",
  },
  {
    title: "Test",
    created: "2023-03-02 12:50:11",
    path: "huh/test.tsx",
  },
  {
    title: "Home 21",
    created: "2023-03-02 19:25:59",
    path: "homefeed/page2.tsx",
  },
  {
    title: "Home 31",
    created: "2023-03-02 19:25:59",
    path: "homefeed/page3.tsx",
  },
  {
    title: "Home",
    created: "2023-03-02 19:25:59",
    path: "homefeed/page0.tsx",
  },
  {
    title: "Home 41",
    created: "2023-03-02 19:25:59",
    path: "homefeed/page4.tsx",
  },
  {
    title: "Home 11",
    created: "2023-03-02 19:25:59",
    path: "homefeed/page1.tsx",
  },
  {
    title: "Projects",
    created: "2023-02-24 00:00:00",
    path: "projects.tsx",
  },
  {
    title: "Home",
    created: "2016-08-16 00:00:00",
    path: "old-site/index.tsx",
  },
  {
    title: "Blog",
    created: "2016-06-18 00:00:00",
    path: "old-site/blog/index.tsx",
  },
  {
    title: "Just write",
    created: "2016-06-25 00:00:00",
    path: "old-site/blog/justwrite.tsx",
  },
  {
    title: "Gost",
    created: "2023-08-16 00:00:00",
    path: "old-site/blog/gost.tsx",
  },
  {
    title: "My side projects",
    created: "2016-12-16 00:00:00",
    path: "old-site/mysides.tsx",
  },
  {
    title: "Skul",
    created: "2017-03-17 00:00:00",
    path: "old-site/fiction/skul.tsx",
  },
  {
    title: "Bulbasaur is dumb",
    created: "2017-03-21 00:00:00",
    path: "old-site/fiction/bulbasaur.tsx",
  },
  {
    title: "Fiction",
    created: "2016-08-21 00:00:00",
    path: "old-site/fiction/index.tsx",
  },
  {
    title: "Tails of cabbit",
    created: "2016-08-29 00:00:00",
    path: "old-site/fiction/cabbit.tsx",
  },
];

export const sitemapDirs = {
  "screenshots/": [2, 3, 4, 5, 6],
  "updates/": [7, 8, 9],
  "notes/": [10, 11, 12, 13, 19, 20],
  "notes/feed/": [14, 15, 16, 17, 18],
  "huh/": [22],
  "homefeed/": [23, 24, 25, 26, 27],
  "old-site/": [29, 33],
  "old-site/blog/": [30, 31, 32],
  "old-site/fiction/": [34, 35, 36, 37],
} as const;

export type PagePath =
  | "notes"
  | "index"
  | "screenshots/index"
  | "screenshots/code"
  | "screenshots/gaming"
  | "screenshots/random"
  | "screenshots/watch"
  | "updates/refactor-and-cleanup"
  | "updates/imported-old-site"
  | "updates/improve-build-time"
  | "notes/site"
  | "notes/ready-for-action"
  | "notes/previous-writings"
  | "notes/ssg"
  | "notes/feed/page2"
  | "notes/feed/page3"
  | "notes/feed/page0"
  | "notes/feed/page4"
  | "notes/feed/page1"
  | "notes/gost"
  | "notes/godot"
  | "about"
  | "huh/test"
  | "homefeed/page2"
  | "homefeed/page3"
  | "homefeed/page0"
  | "homefeed/page4"
  | "homefeed/page1"
  | "projects"
  | "old-site/index"
  | "old-site/blog/index"
  | "old-site/blog/justwrite"
  | "old-site/blog/gost"
  | "old-site/mysides"
  | "old-site/fiction/skul"
  | "old-site/fiction/bulbasaur"
  | "old-site/fiction/index"
  | "old-site/fiction/cabbit";

export type PageDir = keyof typeof sitemapDirs;

const sitemapCache: Record<string, SitemapEntry> = {};
export function sitemap(pagePath: PagePath): SitemapEntry {
  if (!pagePath.endsWith(".tsx")) {
    pagePath += ".tsx";
  }

  let entry = sitemapCache[pagePath];
  if (!entry) {
    entry = sitemapPages.find((p) => p.path === (pagePath as string)) ?? {
      title: "-",
      path: "-",
      created: "-",
    };
  }

  return entry;
}

export function pagePath(pagePath: PagePath): string {
  if (pagePath.endsWith(".tsx")) {
    return pagePath;
  }
  return pagePath + ".tsx";
}

export function pageDir(dir: PageDir): SitemapEntry[] {
  const entries = sitemapDirs[dir];
  if (!entries) return [];

  const result = entries.map((i) => sitemapPages[i]);
  result.sort(
    (a, b) =>
      parseDateTime(b.created).getTime() - parseDateTime(a.created).getTime()
  );
  return result;
}
